<!DOCTYPE html>
<html>

<head>
    <title>API Test</title>
</head>

<body>

    <h2>Register Test</h2>

    <input id="name" placeholder="Name"><br><br>
    <input id="email" placeholder="Email"><br><br>
    <input id="password" placeholder="Password" type="password"><br><br>

    <button onclick="register()">Register</button>

    <p id="result"></p>

    <script>
        const API = window.API_BASE_URL || "http://localhost:4000";
        async function register() {
            const res = await fetch(`${API}/api/auth/register`, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({
                    name: document.getElementById("name").value,
                    email: document.getElementById("email").value,
                    password: document.getElementById("password").value
                })
            });

            const data = await res.json();
            document.getElementById("result").innerText = JSON.stringify(data);
        }
    </script>

    <h2>Login Test</h2>

    <input id="loginEmail" placeholder="Email"><br><br>
    <input id="loginPassword" placeholder="Password" type="password"><br><br>

    <button onclick="login()">Login</button>

    <p id="loginResult"></p>

    <script>
        async function login() {
            const res = await fetch("http://localhost:4000/api/auth/login", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({
                    email: document.getElementById("loginEmail").value,
                    password: document.getElementById("loginPassword").value
                })
            });

            const data = await res.json();
            document.getElementById("loginResult").innerText = JSON.stringify(data);
        }
    </script>

</body>

</html>

